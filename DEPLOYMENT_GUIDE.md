# ุฏููู ุงููุดุฑ ุงูุดุงูู - ูููุน ูุณูุฉ ุจุฑุฒุงู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ููุซู ุฌููุน ุงูุฎุทูุงุช ุงููุทููุจุฉ ููุดุฑ ูููุน **ูุณูุฉ ุจุฑุฒุงู ุงูุชุฌุงุฑูุฉ** ุนูู Hostingerุ ุจูุง ูู ุฐูู:

- ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุจูุงูุงุช MySQL
- ุชูููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables)
- ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ูููุญุฉ ุงูุชุญูู
- ุงููุดุฑ ุงูุชููุงุฆู ูู GitHub

---

## ๐ ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ุงูุฌุฏูุฏ

### ุงููููุฒุงุช

โ **ุชุณุฌูู ุฏุฎูู ุจุณูุท** ุจุงุณุชุฎุฏุงู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ  
โ **ุญูุงูุฉ ูุงููุฉ** ูุฌููุน ุตูุญุงุช ููุญุฉ ุงูุชุญูู  
โ **ุชุบููุฑ ูููุฉ ุงููุฑูุฑ** ูู ุฏุงุฎู ููุญุฉ ุงูุชุญูู  
โ **ุชุดููุฑ ุขูู** ููููุงุช ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู bcrypt  
โ **ูุณุชุฎุฏู ุงูุชุฑุงุถู** ูุชู ุฅูุดุงุคู ุชููุงุฆูุงู ุนูุฏ ุฃูู ุชุดุบูู

### ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ

```
ุงุณู ุงููุณุชุฎุฏู: admin
ูููุฉ ุงููุฑูุฑ: admin123
```

โ๏ธ **ููู ุฌุฏุงู:** ูุฌุจ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ููุฑุงู ุจุนุฏ ุฃูู ุชุณุฌูู ุฏุฎูู!

### ููููุฉ ุงููุตูู

1. ุงูุชุญ ุงููููุน: `https://mediumturquoise-dotterel-343079.hostingersite.com`
2. ุงุฐูุจ ุฅูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู: `/login`
3. ุฃุฏุฎู ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ
4. ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ุงุฐูุจ ุฅูู "ุชุบููุฑ ูููุฉ ุงููุฑูุฑ" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ

---

## ๐๏ธ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 1. ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู Hostinger

```
Database Name: u521934522_nasma_db
Username: u521934522_nasma_db_new
Password: uRo2hz3yf0|
Host: localhost
Port: 3306
```

### 2. ุชุญุฏูุซ ุฌุฏูู ุงููุณุชุฎุฏููู

ุชู ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ ูุฌุฏูู `users` ูุฏุนู ูุธุงู ุชุณุฌูู ุงูุฏุฎูู:

```sql
-- ุฅุถุงูุฉ ุญูู username (ุงุณู ุงููุณุชุฎุฏู)
ALTER TABLE users ADD COLUMN username VARCHAR(100) UNIQUE;

-- ุฅุถุงูุฉ ุญูู password (ูููุฉ ุงููุฑูุฑ ุงููุดูุฑุฉ)
ALTER TABLE users ADD COLUMN password VARCHAR(255);

-- ุฌุนู openId ุงุฎุชูุงุฑู (nullable)
ALTER TABLE users MODIFY COLUMN openId VARCHAR(64) UNIQUE;
```

### 3. ุงุณุชูุฑุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ููููู ุงุณุชูุฑุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุงููุฉ ูู ููู:
```
nesma-barzan-mysql.sql
```

**ุฎุทูุงุช ุงูุงุณุชูุฑุงุฏ ูู Hostinger:**

1. ุงุฐูุจ ุฅูู: **Websites** > **Databases** > **Management**
2. ุงูุชุญ **phpMyAdmin**
3. ุงุฎุชุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช `u521934522_nasma_db`
4. ุงุฐูุจ ุฅูู ุชุจููุจ **Import**
5. ุงุฎุชุฑ ููู `nesma-barzan-mysql.sql`
6. ุงุถุบุท **Go**

---

## โ๏ธ ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables)

### ุงููุชุบูุฑุงุช ุงููุทููุจุฉ ูู Hostinger

ูุฌุจ ุฅุถุงูุฉ ูุฐู ุงููุชุบูุฑุงุช ูู:  
**Websites** > **Deployments** > **Settings and redeploy** > **Environment Variables**

#### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช

```env
DATABASE_URL=mysql://u521934522_nasma_db_new:uRo2hz3yf0|@localhost:3306/u521934522_nasma_db
```

#### 2. ุงูุฌูุณุงุช ูุงูุฃูุงู

```env
SESSION_SECRET=nesma-barzan-production-secret-2025-change-this
NODE_ENV=production
```

#### 3. ูุชุบูุฑุงุช Frontend (ูููุฉ ุฌุฏุงู!)

```env
VITE_OAUTH_PORTAL_URL=https://oauth.manus.im
VITE_APP_ID=nesma-barzan-prod
```

โ๏ธ **ููุงุญุธุฉ:** ุงููุชุบูุฑุงุช ุงูุชู ุชุจุฏุฃ ุจู `VITE_` ุถุฑูุฑูุฉ ูุนูู ุงููููุนุ ูุฃู Vite ูุณุชุฎุฏููุง ูู ุงูู frontend.

#### 4. ูุชุบูุฑุงุช ุงุฎุชูุงุฑูุฉ (ููููุฒุงุช ุงููุณุชูุจููุฉ)

```env
BUILT_IN_FORGE_API_URL=https://forge.manus.im/api
OAUTH_CLIENT_ID=nesma-barzan-prod
OAUTH_CLIENT_SECRET=dummy-secret
```

### ููููุฉ ุฅุถุงูุฉ ุงููุชุบูุฑุงุช

1. ุงูุชุญ ููุญุฉ ุชุญูู Hostinger
2. ุงุฐูุจ ุฅูู: **Websites** > ุงุฎุชุฑ ูููุนู
3. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ: **Deployments**
4. ุงุถุบุท ุนูู **Settings and redeploy**
5. ูุฑุฑ ูุฃุณูู ุฅูู ูุณู **Environment Variables**
6. ุงุถุบุท **Add** ููู ูุชุบูุฑ
7. ุฃุฏุฎู **Name** ู **Value** ููู ูุชุบูุฑ
8. ุจุนุฏ ุฅุถุงูุฉ ุฌููุน ุงููุชุบูุฑุงุชุ ุงุถุบุท **Save and redeploy**

---

## ๐ ุงููุดุฑ ุนูู Hostinger

### 1. ุฑุจุท GitHub Repository

ุชู ุฑุจุท ุงููุดุฑูุน ุจู GitHub Repository:
```
https://github.com/DROPIDEA0/NESMA-BARAZAN
```

### 2. ุฅุนุฏุงุฏุงุช ุงููุดุฑ ุงูุชููุงุฆู

```yaml
Framework: Express
Branch: main
Node version: 22.x
Entry file: dist/index.js
Package manager: pnpm
Auto-deployment: ON โ
```

### 3. ุนูููุฉ ุงููุดุฑ

ุนูุฏ ุนูู `git push` ุฅูู branch `main`:

1. **Hostinger ููุชุดู ุงูุชุบููุฑุงุช** ุชููุงุฆูุงู
2. **ูููู ุจุชูุฒูู ุงูููุฏ** ูู GitHub
3. **ูููู ุจุชุซุจูุช Dependencies** ุจุงุณุชุฎุฏุงู `pnpm install`
4. **ูููู ุจุจูุงุก ุงููุดุฑูุน** ุจุงุณุชุฎุฏุงู `pnpm run build`
5. **ูุดุบู ุงูุณูุฑูุฑ** ูู ููู `dist/index.js`

### 4. ุงูุชุญูู ูู ูุฌุงุญ ุงููุดุฑ

ุงูุชุญ: **Websites** > **Deployments**

ูุฌุจ ุฃู ุชุฑู:
- โ Status: **Completed**
- โ ุขุฎุฑ commit message
- โ ุงูุชุงุฑูุฎ ูุงูููุช

---

## ๐ ุงูุชุบููุฑุงุช ุงูุชูููุฉ

### 1. ูููุงุช ุฌุฏูุฏุฉ

#### Backend
- `server/auth.ts` - ูุธุงู ุงููุตุงุฏูุฉ ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- `migrations/add_username_password.sql` - ุชุญุฏูุซุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### Frontend
- `client/src/pages/Login.tsx` - ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
- `client/src/pages/admin/ChangePassword.tsx` - ุตูุญุฉ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
- `client/src/components/ProtectedRoute.tsx` - ุญูุงูุฉ ุงูุตูุญุงุช

### 2. ูููุงุช ูุนุฏูุฉ

#### Schema
- `drizzle/schema.ts`
  - ุฅุถุงูุฉ ุญูู `username`
  - ุฅุถุงูุฉ ุญูู `password`
  - ุฌุนู `openId` ุงุฎุชูุงุฑู

#### API Routers
- `server/routers.ts`
  - ุฅุถุงูุฉ `auth.login` endpoint
  - ุฅุถุงูุฉ `auth.changePassword` endpoint

#### Database Functions
- `server/db.ts`
  - ุฅุถุงูุฉ `getUserById()`
  - ุฅุถุงูุฉ `updateUser()`

#### Frontend
- `client/src/App.tsx` - ุฅุถุงูุฉ routes ููุตูุญุงุช ุงูุฌุฏูุฏุฉ
- `client/src/components/AdminLayout.tsx` - ุฅุถุงูุฉ ุฑุงุจุท ุชุบููุฑ ูููุฉ ุงููุฑูุฑ + ุชูุนูู ุงูุญูุงูุฉ

#### Server Initialization
- `server/_core/index.ts` - ุฅุถุงูุฉ ุงุณุชุฏุนุงุก `createDefaultAdmin()`

### 3. Dependencies ุฌุฏูุฏุฉ

```json
{
  "bcryptjs": "^3.0.3"
}
```

---

## ๐ง ุงูุฃูุงูุฑ ุงููููุฏุฉ

### Development (ูุญูู)

```bash
# ุชุซุจูุช Dependencies
pnpm install

# ุชุดุบูู ูู ูุถุน ุงูุชุทููุฑ
pnpm run dev

# ุจูุงุก ุงููุดุฑูุน
pnpm run build

# ุชุดุบูู ูู ูุถุน ุงูุฅูุชุงุฌ
pnpm start
```

### Git Commands

```bash
# ุฅุถุงูุฉ ุฌููุน ุงูุชุบููุฑุงุช
git add .

# ุนูู commit
git commit -m "feat: ุฅุถุงูุฉ ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ูููุญุฉ ุงูุชุญูู"

# ุฑูุน ุฅูู GitHub (ุณูุจุฏุฃ ุงููุดุฑ ุงูุชููุงุฆู)
git push origin main
```

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### 1. ุงููููุน ูุนุฑุถ "Invalid URL"

**ุงูุณุจุจ:** ูุชุบูุฑุงุช `VITE_*` ุบูุฑ ููุฌูุฏุฉ

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฅุถุงูุฉ `VITE_OAUTH_PORTAL_URL` ู `VITE_APP_ID`
2. ุงุถุบุท **Save and redeploy** ูู Hostinger
3. ุงูุชุธุฑ ุงูุชูุงู ุงูุจูุงุก (2-3 ุฏูุงุฆู)

### 2. ูุง ูููู ุชุณุฌูู ุงูุฏุฎูู

**ุงูุณุจุจ:** ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ูุญุฏุซุฉ ุฃู ุงููุณุชุฎุฏู ุงูุงูุชุฑุงุถู ุบูุฑ ููุฌูุฏ

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุงุณุชูุฑุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุฃู ูู ุจุชุดุบูู ุงูุณูุฑูุฑ ูุฑุฉ ูุงุญุฏุฉ (ุณูุชู ุฅูุดุงุก ุงููุณุชุฎุฏู ุชููุงุฆูุงู)

### 3. Build ููุดู ูู Hostinger

**ุงูุณุจุจ:** ุฎุทุฃ ูู ุงูููุฏ ุฃู dependencies ููููุฏุฉ

**ุงูุญู:**
1. ุงูุชุญ **Deployments** > **Build logs**
2. ุงูุฑุฃ ุฑุณุงูุฉ ุงูุฎุทุฃ
3. ุฃุตูุญ ุงููุดููุฉ ูุญููุงู
4. ุงุนูู `git push` ูุฑุฉ ุฃุฎุฑู

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุชุญูู ูู **Build logs** ูู Hostinger
2. ุชุญูู ูู **Runtime logs** ูู Hostinger
3. ุชุฃูุฏ ูู ุตุญุฉ ุฌููุน Environment Variables
4. ุชุฃูุฏ ูู ุงุณุชูุฑุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุฌุงุญ

---

## โ Checklist ูููุดุฑ

- [ ] ุงุณุชูุฑุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช MySQL
- [ ] ุฅุถุงูุฉ ุฌููุน Environment Variables
- [ ] ุงูุชุฃูุฏ ูู ูุฌุงุญ ุขุฎุฑ Deployment
- [ ] ูุชุญ ุงููููุน ูุงูุชุฃูุฏ ูู ุนููู
- [ ] ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ
- [ ] ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ
- [ ] ุงุฎุชุจุงุฑ ููุญุฉ ุงูุชุญูู
- [ ] ุงุฎุชุจุงุฑ ุฅุถุงูุฉ/ุชุนุฏูู ุงููุญุชูู

---

## ๐ ุขุฎุฑ ุชุญุฏูุซ

**ุงูุชุงุฑูุฎ:** 29 ุฏูุณูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุฅูุชุงุฌ โ

---

## ๐ ููุงุญุธุงุช ููุงุฆูุฉ

- ุงููููุน ุงูุขู ูุนูู ุจูุฌุงุญ ุนูู Hostinger
- ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ุขูู ููุดูุฑ
- ุงููุดุฑ ุงูุชููุงุฆู ููุนูู ูู GitHub
- ูุงุนุฏุฉ ุงูุจูุงูุงุช MySQL ูุชุตูุฉ ุจูุฌุงุญ
- ุฌููุน ุงูููุฒุงุช ุชุนูู ุจุดูู ุตุญูุญ

**ุฑุงุจุท ุงููููุน:**  
https://mediumturquoise-dotterel-343079.hostingersite.com

**ุฑุงุจุท ููุญุฉ ุงูุชุญูู:**  
https://mediumturquoise-dotterel-343079.hostingersite.com/login
